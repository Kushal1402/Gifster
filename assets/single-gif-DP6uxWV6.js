const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embed-gif-Ljude6QN.js","assets/index-DuB7zjXB.js","assets/index-BO3CGC8-.css"])))=>i.map(i=>d[i]);
import{a as h,u as he,G as xe,r as c,j as t,b as ue,c as je,L as ve,_ as we}from"./index-DuB7zjXB.js";function be(r){return h({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"},child:[]}]})(r)}function ee(r){return h({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480l0-83.6c0-4 1.5-7.8 4.2-10.8L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"},child:[]}]})(r)}function se(r){return h({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M161.98 397.63 0 256l161.98-141.63 27.65 31.61L64 256l125.63 110.02-27.65 31.61zm188.04 0-27.65-31.61L448 256 322.37 145.98l27.65-31.61L512 256 350.02 397.63z"},child:[]}]})(r)}function te(r){return h({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(r)}const Ne=c.lazy(()=>we(()=>import("./embed-gif-Ljude6QN.js"),__vite__mapDeps([0,1,2]))),le=["#00CCFF","#9733FF","#FFF35C","#FF6666","#00FF99"],ye=["gifs","stickers","texts"],$e=()=>{var $,C,F,z,E,L,G,T,P,S,U,M,I,R,B,A,H,O,W,q,K,V,J,Q,X,Y,Z;const{type:r,slug:v}=he(),{gifApiKey:w,gifApiBaseUrl:b,filter:p}=xe(),[e,re]=c.useState({}),[x,ne]=c.useState(!1),[ce,N]=c.useState(!1),[n,oe]=c.useState({gifEmbedUrl:"",gifPageUrl:"",gifTitle:"GIF"}),[o,ae]=c.useState([]),[u,j]=c.useState(!0),[de,y]=c.useState(!1);c.useEffect(()=>{if(!ye.includes(r))throw new Error("Invalid Content Type");(async()=>{try{const l=v.split("-"),a=await(await fetch(`${b}${p}/${l[l.length-1]}?api_key=${w}`)).json();re(a.data);const i=await(await fetch(`${b}${p}/related?gif_id=${l[l.length-1]}&rating=pg-13&limit=20&type=${p}&api_key=${w}`)).json();ae(i.data),j(!1)}catch(l){console.error("Error fetching search results:",l),j(!1)}finally{j(!1)}})(),window.scrollTo({top:0,behavior:"smooth"})},[r,v,p]);const _=s=>{var D,f;s.preventDefault();let l=e==null?void 0:e.title,m=(e==null?void 0:e.url)||((f=(D=e==null?void 0:e.images)==null?void 0:D.original)==null?void 0:f.webp),a=" ";const d=()=>/(android|iphone|ipad|mobile)/i.test(navigator.userAgent),i=ie=>"?"+Object.entries(ie).map(([me,pe])=>`${encodeURIComponent(me)}=${encodeURIComponent(pe)}`).join("&"),g=(d()?"https://api.whatsapp.com/send":"https://web.whatsapp.com/send")+i({text:`${l}${a}${m}`});d()?window.open(g,"_blank"):window.open(g,"_blank","width=550,height=400,noopener,noreferrer")},k=s=>{s.preventDefault(),oe({gifEmbedUrl:e==null?void 0:e.embed_url,gifPageUrl:e==null?void 0:e.url,gifTitle:(e==null?void 0:e.title)||"GIF"}),N(!0)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-4 my-10 gap-4",children:[t.jsxs("div",{className:"hidden sm:block",children:[(e==null?void 0:e.user)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-1",children:[t.jsx("img",{src:($=e==null?void 0:e.user)==null?void 0:$.avatar_url,alt:(C=e==null?void 0:e.user)==null?void 0:C.display_name,className:"h-14"}),t.jsxs("div",{className:"px-2",children:[t.jsx("div",{className:"font-bold",children:(F=e==null?void 0:e.user)==null?void 0:F.display_name}),t.jsxs("div",{className:"faded-text",children:["@",(z=e==null?void 0:e.user)==null?void 0:z.username]})]})]}),((E=e==null?void 0:e.user)==null?void 0:E.description)&&t.jsxs("p",{className:"py-4 whitespace-pre-line text-sm text-gray-400",children:[((G=(L=e==null?void 0:e.user)==null?void 0:L.description)==null?void 0:G.length)>119&&x?(T=e==null?void 0:e.user)==null?void 0:T.description:((P=e==null?void 0:e.user)==null?void 0:P.description.slice(0,119))+"...",t.jsx("div",{className:"flex items-center faded-text cursor-pointer",onClick:()=>ne(!x),children:((U=(S=e==null?void 0:e.user)==null?void 0:S.description)==null?void 0:U.length)<119?"":x?t.jsxs(t.Fragment,{children:["Read less ",t.jsx(ue,{size:20})]}):t.jsxs(t.Fragment,{children:["Read more ",t.jsx(je,{size:20})]})})]}),t.jsx("div",{className:"w-full h-0.5 bg-gray-800 mt-1 mb-3"})]}),((M=e==null?void 0:e.user)==null?void 0:M.website_url)&&t.jsxs("div",{children:[t.jsx("span",{className:"faded-text",children:"Source"}),t.jsxs("div",{className:"flex items-center text-sm font-bold gap-1",children:[t.jsx(be,{size:25}),t.jsx("a",{href:(I=e==null?void 0:e.user)==null?void 0:I.website_url,target:"_blank",className:"truncate",children:e==null?void 0:e.source})]})]})]}),t.jsx("div",{className:"col-span-4 sm:col-span-3",children:t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("div",{className:"w-full sm:w-3/4",children:[t.jsx("div",{className:"faded-text truncate mb-2",children:e==null?void 0:e.title}),t.jsx("div",{className:"relative",children:t.jsx("img",{src:(B=(R=e==null?void 0:e.images)==null?void 0:R.original)==null?void 0:B.webp,srcSet:`
                                        ${(H=(A=e==null?void 0:e.images)==null?void 0:A.fixed_width_small)==null?void 0:H.webp} 100w,
                                        ${(W=(O=e==null?void 0:e.images)==null?void 0:O.fixed_width)==null?void 0:W.webp} 200w,
                                        ${(K=(q=e==null?void 0:e.images)==null?void 0:q.original)==null?void 0:K.webp} 480w,
                                    `,alt:e!=null&&e.alt_text?e==null?void 0:e.alt_text:e==null?void 0:e.title,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",className:`w-full object-cover rounded transition-all duration-300 ${(e==null?void 0:e.type)==="text"||(e==null?void 0:e.type)==="sticker"?"transparent-bg-stickers-text":""}`,decoding:"async",width:(V=e==null?void 0:e.images)==null?void 0:V.original.width,height:(J=e==null?void 0:e.images)==null?void 0:J.original.height,loading:"eager"})}),t.jsxs("div",{className:"flex sm:hidden gap-1 mt-3",children:[t.jsx("img",{src:(Q=e==null?void 0:e.user)==null?void 0:Q.avatar_url,alt:(X=e==null?void 0:e.user)==null?void 0:X.display_name,className:"h-14"}),t.jsxs("div",{className:"px-2",children:[t.jsx("div",{className:"font-bold",children:(Y=e==null?void 0:e.user)==null?void 0:Y.display_name}),t.jsxs("div",{className:"faded-text",children:["@",(Z=e==null?void 0:e.user)==null?void 0:Z.username]})]}),t.jsx("button",{className:"ml-auto",onClick:s=>_(s),children:t.jsx(ee,{size:20})}),t.jsx("button",{className:"ms-1 me-1",onClick:s=>k(s),children:t.jsx(se,{size:25})}),t.jsx("button",{className:"me-1",onClick:()=>{var s,l;return navigator.clipboard.writeText((l=(s=e==null?void 0:e.images)==null?void 0:s.original)==null?void 0:l.url)},children:t.jsx(te,{size:20})})]})]}),e&&e!==null&&e!==void 0&&t.jsxs("div",{className:"hidden sm:flex flex-col gap-5 mt-6",children:[t.jsx("div",{className:"group",children:t.jsxs("button",{onClick:s=>_(s),className:"flex gap-6 items-center font-bold cursor-pointer text-lg group-hover:scale-110 transition-transform",children:[t.jsx(ee,{size:25}),"Share on WhatsApp"]})}),t.jsx("div",{className:"group",children:t.jsxs("button",{onClick:s=>k(s),className:"flex gap-5 items-center font-bold cursor-pointer text-lg group-hover:scale-110 transition-transform",children:[t.jsx(se,{size:30}),"Embed"]})}),t.jsx("div",{className:"group",children:t.jsxs("button",{onClick:()=>{var s,l;navigator.clipboard.writeText((l=(s=e==null?void 0:e.images)==null?void 0:s.original)==null?void 0:l.url),y(!0),setTimeout(()=>{y(!1)},2e3)},className:"flex gap-5 items-center font-bold cursor-pointer text-lg group-hover:scale-110 transition-transform",children:[t.jsx(te,{size:25}),de?"Copied!":"Copy Link"]})})]})]})}),(!e||e===null||e===void 0)&&t.jsxs("div",{className:"col-span-4 text-center",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Gif Not Found"}),t.jsx("p",{className:"text-gray-400",children:"The requested gif does not exist or has been removed."})]}),ce&&t.jsx(Ne,{onClose:()=>N(!1),gifTitle:n==null?void 0:n.gifTitle,gifEmbedUrl:n==null?void 0:n.gifEmbedUrl,gifPageUrl:n==null?void 0:n.gifPageUrl})]}),t.jsx("div",{className:"w-full",children:(o==null?void 0:o.length)>0&&!u?t.jsxs("div",{className:"mt-10",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Related GIFs"}),t.jsx("div",{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-2",children:o.map((s,l)=>{var m,a,d,i;return t.jsx(ve,{to:`/${s==null?void 0:s.type}s/${s==null?void 0:s.slug}`,className:"block mb-2",children:t.jsxs("div",{className:"mb-4 relative bg-png-pattern cursor-pointer group",children:[t.jsx("img",{src:s==null?void 0:s.images.fixed_width.webp,srcSet:`
                                                ${s==null?void 0:s.images.fixed_width_small.webp} 100w,
                                                ${s==null?void 0:s.images.fixed_width.webp} 200w,
                                                ${s==null?void 0:s.images.original.webp} 480w,
                                            `,alt:s!=null&&s.alt_text?s==null?void 0:s.alt_text:s==null?void 0:s.title,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",className:`w-full object-cover rounded transition-all duration-300 ${(s==null?void 0:s.type)==="text"||(s==null?void 0:s.type)==="sticker"?"transparent-bg-stickers-text":""}`,decoding:"async",width:s==null?void 0:s.images.original.width,height:s==null?void 0:s.images.original.height,loading:"lazy",style:{background:(s==null?void 0:s.type)!=="text"&&(s==null?void 0:s.type)!=="sticker"?le[l%le.length]:""}}),((m=s==null?void 0:s.user)==null?void 0:m.display_name)&&t.jsxs("div",{className:"absolute inset-0 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-b from-transparent via-transparent to-black font-bold flex items-end gap-2 p-2 z-10",children:[t.jsx("img",{src:(a=s==null?void 0:s.user)==null?void 0:a.avatar_url,alt:(d=s==null?void 0:s.user)==null?void 0:d.display_name,className:"h-8 object-cover rounded-full",width:"32",height:"32",loading:"lazy",decoding:"async"}),t.jsx("span",{children:(i=s==null?void 0:s.user)==null?void 0:i.display_name})]})]},l)},s==null?void 0:s.id)})})]}):u?t.jsx("div",{className:"flex justify-center items-center mt-4",children:t.jsxs("div",{className:"loader",children:[t.jsx("div",{}),t.jsx("div",{}),t.jsx("div",{}),t.jsx("div",{}),t.jsx("div",{})]})}):!u&&(o==null?void 0:o.length)<1?t.jsx("p",{className:"text-gray-400",children:"No related GIFs found."}):""})]})};export{$e as default};
