const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embed-gif-DlLvYWyT.js","assets/index-DmzuLzYv.js","assets/index-BO3CGC8-.css"])))=>i.map(i=>d[i]);
import{a as j,u as ie,G as me,r as c,j as t,b as he,c as pe,L as xe,_ as ue}from"./index-DmzuLzYv.js";function je(n){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"},child:[]}]})(n)}function f(n){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480l0-83.6c0-4 1.5-7.8 4.2-10.8L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"},child:[]}]})(n)}function ee(n){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M161.98 397.63 0 256l161.98-141.63 27.65 31.61L64 256l125.63 110.02-27.65 31.61zm188.04 0-27.65-31.61L448 256 322.37 145.98l27.65-31.61L512 256 350.02 397.63z"},child:[]}]})(n)}const ve=c.lazy(()=>ue(()=>import("./embed-gif-DlLvYWyT.js"),__vite__mapDeps([0,1,2]))),se=["#00CCFF","#9733FF","#FFF35C","#FF6666","#00FF99"],we=["gifs","stickers","texts"],ye=()=>{var k,$,F,C,E,z,G,L,P,S,U,T,I,R,M,B,A,H,O,W,q,K,V,J,Q,X,Y;const{type:n,slug:v}=ie(),{gifApiKey:w,gifApiBaseUrl:b,filter:h}=me(),[e,te]=c.useState({}),[p,le]=c.useState(!1),[re,N]=c.useState(!1),[r,ne]=c.useState({gifEmbedUrl:"",gifPageUrl:"",gifTitle:"GIF"}),[o,ce]=c.useState([]),[x,u]=c.useState(!0);c.useEffect(()=>{if(!we.includes(n))throw new Error("Invalid Content Type");(async()=>{try{const l=v.split("-"),d=await(await fetch(`${b}${h}/${l[l.length-1]}?api_key=${w}`)).json();te(d.data);const i=await(await fetch(`${b}${h}/related?gif_id=${l[l.length-1]}&rating=pg-13&limit=20&type=${h}&api_key=${w}`)).json();ce(i.data),u(!1)}catch(l){console.error("Error fetching search results:",l),u(!1)}finally{u(!1)}})(),window.scrollTo({top:0,behavior:"smooth"})},[n,v,h]);const y=s=>{var g,D;s.preventDefault();let l=e==null?void 0:e.title,m=(e==null?void 0:e.url)||((D=(g=e==null?void 0:e.images)==null?void 0:g.original)==null?void 0:D.webp),d=" ";const a=()=>/(android|iphone|ipad|mobile)/i.test(navigator.userAgent),i=oe=>"?"+Object.entries(oe).map(([de,ae])=>`${encodeURIComponent(de)}=${encodeURIComponent(ae)}`).join("&"),Z=(a()?"https://api.whatsapp.com/send":"https://web.whatsapp.com/send")+i({text:`${l}${d}${m}`});a()?window.open(Z,"_blank"):window.open(Z,"_blank","width=550,height=400,noopener,noreferrer")},_=s=>{s.preventDefault(),ne({gifEmbedUrl:e==null?void 0:e.embed_url,gifPageUrl:e==null?void 0:e.url,gifTitle:(e==null?void 0:e.title)||"GIF"}),N(!0)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-4 my-10 gap-4",children:[t.jsxs("div",{className:"hidden sm:block",children:[(e==null?void 0:e.user)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-1",children:[t.jsx("img",{src:(k=e==null?void 0:e.user)==null?void 0:k.avatar_url,alt:($=e==null?void 0:e.user)==null?void 0:$.display_name,className:"h-14"}),t.jsxs("div",{className:"px-2",children:[t.jsx("div",{className:"font-bold",children:(F=e==null?void 0:e.user)==null?void 0:F.display_name}),t.jsxs("div",{className:"faded-text",children:["@",(C=e==null?void 0:e.user)==null?void 0:C.username]})]})]}),((E=e==null?void 0:e.user)==null?void 0:E.description)&&t.jsxs("p",{className:"py-4 whitespace-pre-line text-sm text-gray-400",children:[((G=(z=e==null?void 0:e.user)==null?void 0:z.description)==null?void 0:G.length)>119&&p?(L=e==null?void 0:e.user)==null?void 0:L.description:((P=e==null?void 0:e.user)==null?void 0:P.description.slice(0,119))+"...",t.jsx("div",{className:"flex items-center faded-text cursor-pointer",onClick:()=>le(!p),children:((U=(S=e==null?void 0:e.user)==null?void 0:S.description)==null?void 0:U.length)<119?"":p?t.jsxs(t.Fragment,{children:["Read less ",t.jsx(he,{size:20})]}):t.jsxs(t.Fragment,{children:["Read more ",t.jsx(pe,{size:20})]})})]}),t.jsx("div",{className:"w-full h-0.5 bg-gray-800 mt-1 mb-3"})]}),((T=e==null?void 0:e.user)==null?void 0:T.website_url)&&t.jsxs("div",{children:[t.jsx("span",{className:"faded-text",children:"Source"}),t.jsxs("div",{className:"flex items-center text-sm font-bold gap-1",children:[t.jsx(je,{size:25}),t.jsx("a",{href:(I=e==null?void 0:e.user)==null?void 0:I.website_url,target:"_blank",className:"truncate",children:e==null?void 0:e.source})]})]})]}),t.jsx("div",{className:"col-span-4 sm:col-span-3",children:t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("div",{className:"w-full sm:w-3/4",children:[t.jsx("div",{className:"faded-text truncate mb-2",children:e==null?void 0:e.title}),t.jsx("div",{className:"relative",children:t.jsx("img",{src:(M=(R=e==null?void 0:e.images)==null?void 0:R.original)==null?void 0:M.webp,srcSet:`
                                        ${(A=(B=e==null?void 0:e.images)==null?void 0:B.fixed_width_small)==null?void 0:A.webp} 100w,
                                        ${(O=(H=e==null?void 0:e.images)==null?void 0:H.fixed_width)==null?void 0:O.webp} 200w,
                                        ${(q=(W=e==null?void 0:e.images)==null?void 0:W.original)==null?void 0:q.webp} 480w,
                                    `,alt:e!=null&&e.alt_text?e==null?void 0:e.alt_text:e==null?void 0:e.title,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",className:`w-full object-cover rounded transition-all duration-300 ${(e==null?void 0:e.type)==="text"||(e==null?void 0:e.type)==="sticker"?"transparent-bg-stickers-text":""}`,decoding:"async",width:(K=e==null?void 0:e.images)==null?void 0:K.original.width,height:(V=e==null?void 0:e.images)==null?void 0:V.original.height,loading:"eager"})}),t.jsxs("div",{className:"flex sm:hidden gap-1 mt-3",children:[t.jsx("img",{src:(J=e==null?void 0:e.user)==null?void 0:J.avatar_url,alt:(Q=e==null?void 0:e.user)==null?void 0:Q.display_name,className:"h-14"}),t.jsxs("div",{className:"px-2",children:[t.jsx("div",{className:"font-bold",children:(X=e==null?void 0:e.user)==null?void 0:X.display_name}),t.jsxs("div",{className:"faded-text",children:["@",(Y=e==null?void 0:e.user)==null?void 0:Y.username]})]}),t.jsx("button",{className:"ml-auto",onClick:s=>y(s),children:t.jsx(f,{size:20})}),t.jsx("button",{className:"ms-1 me-1",onClick:s=>_(s),children:t.jsx(ee,{size:25})})]})]}),e&&e!==null&&e!==void 0&&t.jsxs("div",{className:"hidden sm:flex flex-col gap-5 mt-6",children:[t.jsx("div",{className:"group",children:t.jsxs("button",{onClick:s=>y(s),className:"flex gap-6 items-center font-bold cursor-pointer text-lg group-hover:scale-110 transition-transform",children:[t.jsx(f,{size:25}),"Share on WhatsApp"]})}),t.jsx("div",{className:"group",children:t.jsxs("button",{onClick:s=>_(s),className:"flex gap-5 items-center font-bold cursor-pointer text-lg group-hover:scale-110 transition-transform",children:[t.jsx(ee,{size:30}),"Embed"]})})]})]})}),(!e||e===null||e===void 0)&&t.jsxs("div",{className:"col-span-4 text-center",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Gif Not Found"}),t.jsx("p",{className:"text-gray-400",children:"The requested gif does not exist or has been removed."})]}),re&&t.jsx(ve,{onClose:()=>N(!1),gifTitle:r==null?void 0:r.gifTitle,gifEmbedUrl:r==null?void 0:r.gifEmbedUrl,gifPageUrl:r==null?void 0:r.gifPageUrl})]}),t.jsx("div",{className:"w-full",children:(o==null?void 0:o.length)>0&&!x?t.jsxs("div",{className:"mt-10",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Related GIFs"}),t.jsx("div",{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-2",children:o.map((s,l)=>{var m,d,a,i;return t.jsx(xe,{to:`/${s==null?void 0:s.type}s/${s==null?void 0:s.slug}`,className:"block mb-2",children:t.jsxs("div",{className:"mb-4 relative bg-png-pattern cursor-pointer group",children:[t.jsx("img",{src:s==null?void 0:s.images.fixed_width.webp,srcSet:`
                                                ${s==null?void 0:s.images.fixed_width_small.webp} 100w,
                                                ${s==null?void 0:s.images.fixed_width.webp} 200w,
                                                ${s==null?void 0:s.images.original.webp} 480w,
                                            `,alt:s!=null&&s.alt_text?s==null?void 0:s.alt_text:s==null?void 0:s.title,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",className:`w-full object-cover rounded transition-all duration-300 ${(s==null?void 0:s.type)==="text"||(s==null?void 0:s.type)==="sticker"?"transparent-bg-stickers-text":""}`,decoding:"async",width:s==null?void 0:s.images.original.width,height:s==null?void 0:s.images.original.height,loading:"lazy",style:{background:(s==null?void 0:s.type)!=="text"&&(s==null?void 0:s.type)!=="sticker"?se[l%se.length]:""}}),((m=s==null?void 0:s.user)==null?void 0:m.display_name)&&t.jsxs("div",{className:"absolute inset-0 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-b from-transparent via-transparent to-black font-bold flex items-end gap-2 p-2 z-10",children:[t.jsx("img",{src:(d=s==null?void 0:s.user)==null?void 0:d.avatar_url,alt:(a=s==null?void 0:s.user)==null?void 0:a.display_name,className:"h-8 object-cover rounded-full",width:"32",height:"32",loading:"lazy",decoding:"async"}),t.jsx("span",{children:(i=s==null?void 0:s.user)==null?void 0:i.display_name})]})]},l)},s==null?void 0:s.id)})})]}):x?t.jsx("div",{className:"flex justify-center items-center mt-4",children:t.jsxs("div",{className:"loader",children:[t.jsx("div",{}),t.jsx("div",{}),t.jsx("div",{}),t.jsx("div",{}),t.jsx("div",{})]})}):!x&&(o==null?void 0:o.length)<1?t.jsx("p",{className:"text-gray-400",children:"No related GIFs found."}):""})]})};export{ye as default};
